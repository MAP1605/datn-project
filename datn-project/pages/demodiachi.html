<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Chọn địa chỉ</title>
</head>
<body>
    <form>
        <label for="province">Tỉnh/Thành phố:</label>
        <select id="province" name="province">
            <option value="">Chọn Tỉnh/Thành phố</option>
            <!-- Các tùy chọn sẽ được thêm bằng JavaScript -->
        </select>

        <label for="district">Quận/Huyện:</label>
        <select id="district" name="district">
            <option value="">Chọn Quận/Huyện</option>
            <!-- Các tùy chọn sẽ được thêm bằng JavaScript -->
        </select>

        <label for="ward">Phường/Xã:</label>
        <select id="ward" name="ward">
            <option value="">Chọn Phường/Xã</option>
            <!-- Các tùy chọn sẽ được thêm bằng JavaScript -->
        </select>
        <button id="saveAddressBtn">Lưu địa chỉ</button>
<p id="fullAddressDisplay" style="margin-top: 10px; font-weight: bold;"></p>

    </form>

    <script>
        // Giả sử bạn đã tải dữ liệu từ cơ sở dữ liệu vào biến 'data'
        const data = {
            "Hà Nội": {
                "Quận Ba Đình": ["Phường Phúc Xá", "Phường Trúc Bạch"],
                "Quận Hoàn Kiếm": ["Phường Hàng Trống", "Phường Hàng Bạc"]
            },
            "Hồ Chí Minh": {
                "Quận 1": ["Phường Bến Nghé", "Phường Bến Thành"],
                "Quận 3": ["Phường Võ Thị Sáu", "Phường 9"]
            }
        };

        const provinceSelect = document.getElementById('province');
        const districtSelect = document.getElementById('district');
        const wardSelect = document.getElementById('ward');

        // Hàm cập nhật danh sách Quận/Huyện
        function updateDistricts() {
            const province = provinceSelect.value;
            districtSelect.innerHTML = '<option value="">Chọn Quận/Huyện</option>';
            wardSelect.innerHTML = '<option value="">Chọn Phường/Xã</option>';
            if (province && data[province]) {
                Object.keys(data[province]).forEach(district => {
                    const option = document.createElement('option');
                    option.value = district;
                    option.textContent = district;
                    districtSelect.appendChild(option);
                });
            }
        }

        // Hàm cập nhật danh sách Phường/Xã
        function updateWards() {
            const province = provinceSelect.value;
            const district = districtSelect.value;
            wardSelect.innerHTML = '<option value="">Chọn Phường/Xã</option>';
            if (province && district && data[province][district]) {
                data[province][district].forEach(ward => {
                    const option = document.createElement('option');
                    option.value = ward;
                    option.textContent = ward;
                    wardSelect.appendChild(option);
                });
            }
        }

        // Khởi tạo danh sách Tỉnh/Thành phố
        Object.keys(data).forEach(province => {
            const option = document.createElement('option');
            option.value = province;
            option.textContent = province;
            provinceSelect.appendChild(option);
        });

        // Thêm sự kiện lắng nghe
        provinceSelect.addEventListener('change', updateDistricts);
        districtSelect.addEventListener('change', updateWards);
        const saveBtn = document.getElementById('saveAddressBtn');
const fullAddressDisplay = document.getElementById('fullAddressDisplay');

saveBtn.addEventListener('click', () => {
  const province = provinceSelect.value;
  const district = districtSelect.value;
  const ward = wardSelect.value;

  if (!province || !district || !ward) {
    alert('Vui lòng chọn đầy đủ Tỉnh/Thành phố, Quận/Huyện và Phường/Xã.');
    return;
  }

  const fullAddress = `${ward}, ${district}, ${province}`;
  fullAddressDisplay.textContent = `Địa chỉ đã chọn: ${fullAddress}`;

   document.getElementById('addressInputHidden').value = fullAddress;
});

    </script>
</body>
</html>
